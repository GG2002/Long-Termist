## 日期

- 几月几日
  // month-day
  MD-12-01
- 几月第几个周几（如：5 月第 2 个周日）
  // month-week
  MW-05-47
- 农历的几月几日
  // lunar-day
  LD-09-29

主键：group_id
| group_id | group_name | group_parent_id |
| -------- | ---------- | --------------- |
| 1 | default | 0 |
| 2 | 资产余额 | 0 |
| 3 | 动物朋友 | 0 |
| 4 | 龟龟指标 | 3 |

主键：field_id
| field_id | field_name | field_type | group_id |
| -------- | ---------- | ---------- | -------- |
| 1 | 支付宝余额 | num | 2 |
| 2 | 微信余额 | num | 2 |
| 3 | 云闪付余额 | num | 2 |

主键：（year，md_date，field_id）
| year | md_date | yearly | field_id | detail |
| ---- | -------- | ------ | -------- | ------ |
| 2023 | MD-12-01 | false | 1 | ""     |
| 2024 | MD-01-01 | false | 2 | ""     |
| 2024 | MD-02-02 | false | 1 | ""     |
| 2024 | LD-02-02 | true | 1 | ""     |
| 2025 | MD-01-01 | false | 1 | ""     |

## 自定义结构体

基本就是写了一套图形化界面语言转 sql statement 的东西。

带日期的自定义结构体

### 事件

一年一度的固定事件。

- 某天的某人生日
- 季节性的事件（西瓜变甜，草莓变甜）
- 节假日

### 指标

具有连续性质的数值型数据。

- 宠物乌龟/仓鼠/爬虫的克重/体长
- 支付宝余额、微信余额、云闪付余额、总余额

以余额举例：

- 支付宝余额 数值
- 微信余额 数值
- 云闪付余额 数值

## 年事簿
每年都有新的年事簿。年事簿分为 yearly 事件和本年（本年记录，且非 yearly）事件。

### yearly 事件
yearly 事件是一年一度的事件，也就是 yearly = true 的事件。这些事件记录下来后每年都需要展示。

- MonthDay 格式的事件无关年份。例如 2015 年 4 月 2 号的 yearly 事件，2026 年也是 4 月 2 号
- WeekDay 格式的事件无关年份，但是每年映射的 MonthDay 不同，例如 2018 年 5 月第 2 个周日的 yearly 事件，2026 年也是 5 月第 2 个周日，但是 MonthDay 跟 2018 年的肯定不一样。。
- LunarDay 格式的事件无关年份，但是每年映射的 MonthDay 不同。例如 2018 年九月初九的 yearly 事件，2026 年也是九月初九，但是 MonthDay 跟 2018 年的肯定不一样。LunarDay 与其他两者不同的是，它存在不少的日期比如 2025 年的十一月二十一，映射完了是 2026 年的 1 月 9 号，这在 2025 年的年事簿上是显示不出来的，因此对于 LunarDay 格式的 yearly 事件，需要做两遍计算，算前一年和今年的映射，保留年份是今年的映射结果（因为也会存在一年有俩个相同农历日的情况）

### 本年记载事件
这里考虑现实客观因素，简化日期，本年记载的事件不可能有 WeekDay 和 LunarDay 格式，这俩个格式都是过节或者其他仪式用的。因此本年记载事件只是 year=本年，日期为 MonthDay 格式的，yearly=false 的事件。